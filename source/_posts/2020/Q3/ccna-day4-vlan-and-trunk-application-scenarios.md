---
title: 【CCNA第四天】vlan和trunk的应用场景
date: 2020-07-10 22:36:06
categories: 计算机网络
tags: [路由器, 思科, CCNA, 交换机]
layout: post
---

## 为什么要用vlan
如果让公司的技术部和销售部能够自由通信，可能会出现几个核心成员一串通就开了一家新的公司。从这个简单的例子出发我们就知道，部门之间的网络应当相互隔离，划分为几个局域网——这就是为什么要用vlan
![在这里插入图片描述](./1.png)
如图所示，上面的两台PC和一台服务器属于技术部的，下面的两台PC和一台服务器属于销售部的，我们想要让各部门内可以相互通信，部门与部门之间禁止通信。
相关命令：

```bash
vlan  10  
///创建vlan 10（以太网范围2-1001）
 name  jishubu  
 ///命名vlan
vlan  20
 name  xiaoshoubu 
 Int  ran  f0/1  -  2  ///同时进入f0/1-f0/2接口
 sw  mode  access     ///接口设置为接入模式（用户）
 sw  access  vlan  10  ///接入到vlan10这个局域网
int  ran  f0/3  -  4
 sw  mode  access 
 sw  access  vlan  20
```
这样的话是否能实现呢？
如果技术部的两台PC和服务器都连同一个交换机是可以实现的，但是很多时候服务器并不和员工的办公区域在同一个楼，有的大公司的服务器甚至在地下或海底。
## 为什么要用到Trunk
因此服务器需要连接一台交换机，然后让办公区的交换机和服务器的交换机相连——这就产生了一个问题：技术部的服务器数据到了办公区的交换机，怎样识别这是技术部的而不是销售部的呢？这就需要trunk相关的命令，trunk好比给技术部的人打上技术部的标记，这样就可以识别了。

```bash
双边交换机都需要配置：
Int  ran  f0/23  -  24  ///同时进入f0/23和f0/24接口
 Sw  mode  trunk  ///接口设置为trunk模式，那么此接口不再属于任何一个vlan
查看trunk接口：
特权模式下：
Show  int  trunk 
```

## ftp服务器
技术部的小张想要从公司的服务器上下载资料和上传周报，那么我们可以在服务器上开启ftp服务，分配他的账号和权限即可。
![在这里插入图片描述](./2.png)

